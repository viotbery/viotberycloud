---
title: 基于栅格数据的最短路径分析
mathjax: true
cover: https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221027204648240.png
categories: GIS实例练习
---
### 思路

基于DEM数据的最短路径生成，应当遵循以下基本流程：

1. 依据多因素权重计算【成本栅格】

2. 导入【起点】源和【成本栅格】制作【距离累计栅格】和【反向栅格】。

3.  计算【距离累计栅格】时选择导出【反向栅格】（回溯链接图）

4. 使用【最佳路径为栅格】导入【目的地】和【距离累计栅格】、【反向栅格】计算出最佳路径

### 步骤

使用DEM计算出**【坡度】**、使用**【焦点统计】**统计11*11范围内的dem像元的**平均值**作为**地表起伏度**（QFD）。

> 在ArcgisPro中，使用【表面参数】工具计算坡度会报错，求稳还是使用【坡度】工具

将【坡度】、【起伏度】、【河流】等数据重分类，确保重分类后的数值统一（均为1-10），当然不必一定要分为10级，根据数据前两个分为十级，河流原本就已分为5级仅需从小到大一次赋予1、2、5、8、10即可。

使用给定的权重分配公式`cost = reclass_river + (reclass_slope * 0.6 + reclass_QFD * 0.4)`计算出【成本栅格】

根据思路中的顺序完成剩余操作。

### 成果图

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221027204648240.png" alt="image-20221027204648240" style="zoom:33%;" />