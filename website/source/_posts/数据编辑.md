---
title: 数据编辑
mathjax: true
cover: https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019210812837.png
categories: GIS
---
# 编辑状态

## 编辑时右键菜单

在绘制矢量时，可以在编辑状态右键打开右键菜单。

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019211317114.png" alt="image-20221019211317114" style="zoom: 33%;" />

其中，【平行】在绘制第一个线端点后光标移到另一条线要素，右键选择【平行】即可绘制后者的平行线。【垂直】用法同理。

# 修整

## 修整

修整要素可以重新编辑一段折线上两个点之间的线段

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019210812837.png" alt="image-20221019210812837" style="zoom:33%;" />

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019210822482.png" alt="image-20221019210822482" style="zoom:50%;" />

## 延伸或修剪

该操作用于线要素，首先选择被修剪的要素，再点击与该要素相交的另一要素即可将相交点的另一端删除。若点击不相交的另一条线要素，则会延伸至该要素。

> 注意！
>
> 在有选择的情况下进行修剪时，将**自动选择较短**的线段。 要修剪较长的线段，请在无选择的情况下进行裁剪。 

## 替换几何

选择一个要素后，根据要素类别替换成新绘制的要素。执行机制是先【删除】选中要素，再【添加】新要素

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019212019947.png" alt="image-20221019212019947" style="zoom:33%;" /><img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019212045142.png" alt="image-20221019212045142" style="zoom:33%;" /><img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221019212056044.png" alt="image-20221019212056044" style="zoom:33%;" />

## 延续要素

即【继续编辑】将会从该线段的最后编辑位置继续编辑，同时保留之前的折点信息。

## 内圆角

选择一条线要素，选择另一条非平行的线要素即可生成圆角弧段将两线重新相接。（即若已相交存在，则在一定位置重新生成弧段连接两条线）

## 概化

将在保留线或面要素基本形状的前提下，降低其复杂程度。 如果打开了地图拓扑，则系统将保留所有共享边界之间的连通性。具有以下三种处理方法：【简化】、【平滑】、【增密】(增加线段折点数量)。都具有【最大偏移量】，该值越小处理程度越低，保真度越高。

# 划分

## 打断

选择一条或多条线要素并使用打断工具，要素将在折点处和交点除分成独立要素

## 裁剪

裁剪工具可以选中一定数量的要素并建立【缓冲区】，选择要被裁剪的目标要素，位于缓冲区内的部分将被【舍弃】或【保留】或【分割】

## 拆分

拆分工具用于将3D多部件要素拆分成单独部件

## 分割 

可将线要素或面要素按照所画线段分割成多个要素

## 划分

选择面要素，并选择分割方式：【成比例面积】【相等面积】【相等宽度】对面要素进行划分。

# 构建

## 偏移

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021143135939.png" alt="image-20221021143135939" style="zoom:33%;" />

偏移工具主要用于相对某要素或指定某点一定距离根据所选模板创建要素，以偏移创建线要素为例，点击相对要素后，在【值】选项中设置【距离】（从原要素起点开始的长度），【偏移】（相对原要素的偏移距离），【侧】（偏移方向），多条值代表创建新要素的多个折点

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021145333809.png" alt="image-20221021145333809" style="zoom:33%;" />

# 对齐

## 变换（空间矫正）

> 空间矫正用于矢量数据的空间位置匹配，提供用于对齐和整合数据的交互方法。可将数据从一个坐标系转换到另一个坐标系中、纠正几何变形等。

### 仿射变换步骤

在ArcGis pro中空间矫正使用【编辑工具】-【对齐】-【变换工具】

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021163717892.png" alt="image-20221021163717892" style="zoom: 25%;" />

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021163751179.png" alt="image-20221021163751179" style="zoom: 25%;" />

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021163945379.png" alt="image-20221021163945379" style="zoom: 33%;" />

### 橡皮页变换

> 在【变换方法】中还提供了【橡皮页变换】，橡皮页变换通常在【变换要素】之后使用，以进一步优化经过变换的要素的对齐精度该变换应用在两个或多个图层之间，在小范围内对矢量进行更精确、更贴合的几何矫正。

提供了以下两种变换方法

- 橡皮页变换（线性）- 此方法稍快一些，且可以生成不错的结果，当很多**链接均匀分布**在变换区域上时，可以使用此方法。该方法没有考虑自然邻域。

- 橡皮页变换（自然邻域法）- 此方法稍慢一些，**但准确度更高**，当您的位移**链接分散在变换区域**中时，可以使用此方法。此方法类似于反距离权重插值法。

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021164743858.png" alt="image-20221021164743858" style="zoom:33%;" />

添加两个图层要素，需要将红色线要素图层矫正到绿色线图层上，点击【添加新链接】链接需要矫正的参考点

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021165308837.png" alt="image-20221021165308837" style="zoom:25%;" />

注意到该区域有一条边与原图层贴合无需进行变换，因此需要指示不需要参加变换的点。点击【添加锚点】，选择无需变换的点。

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021165445663.png" alt="image-20221021165445663" style="zoom:25%;" />

此外，【添加橡皮页区域】可以指定需要进行橡皮页变换的区域，区域外的不进行变换。

点击变换

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221021165510893.png" alt="image-20221021165510893" style="zoom:33%;" />

## 对齐要素

对齐要素工具 用于移除**折线或面要素**之间的**间隙**，并且可以指定所划的目标对齐边一定缓冲区范围内的边向其对齐。

以对齐面间的缝隙为例：

<img src="../../../../../AppData/Roaming/Typora/typora-user-images/image-20221022105013995.png" alt="image-20221022105013995" style="zoom:33%;" />

勾选【允许在不进行选择的情况下对齐要素】，并点击【绘制对齐路径】，绘制需要对齐到的目标边

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221022105245970.png" alt="image-20221022105245970" style="zoom:50%;" />

可见在线周围自动绘制了缓冲区，缓冲区的数值可在右侧进行设置，在缓冲区范围内的边将会被对齐到目标边，点击【对齐】

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221022105406567.png" alt="image-20221022105406567" style="zoom:33%;" />

这种对齐会导致被对齐的要素产生一定形变，并且位置不会变换。在另一种情况我们希望被对齐的要素进行位置移动以贴合另一个要素而不是进行形状上的变换，此时不应该使用【对齐要素】而**应当使用【移动】**

## 移动

默认情况下，移动的锚点在形状中心，但按住ctrl可以移动锚点至拐角,之后再按住锚点移动到边即可启用捕捉进而贴合到另一要素

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221022111058023.png" alt="image-20221022111058023" style="zoom:33%;" />

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221022111401013.png" alt="image-20221022111401013" style="zoom:33%;" />

之后再用对齐要素消除其中的缝隙。

