---
title: 拓扑修整
mathjax: true
cover: https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221026184715102.png
categories: GIS实例练习
---
### 要求

给出一幅线要素的建筑轮廓数据，但其中有若干拓扑错误（线悬挂），需要对齐进行拓扑修正后与现有建筑面要素合并成新的数据

### 步骤

将需要进行拓扑检查的要素和其他要素加入数据集，并创建拓扑。

选中需要进行拓扑修整的某个要素，并添加拓扑规则：Must Not Have Dangles

将拓扑图层加入图层，并进行拓扑检查。在尝试使用拓扑修复工具选中错误点并右键选择【捕捉（snap）】后，输入容差发现修整结果错误，如下：

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221028182455528.png" alt="image-20221028182455528" style="zoom:33%;" />

发现蓝线连接到了错误的地方，我们希望它与下面的点捕捉并连接。出现这种错误的原因是该要素是整个要素，Arcmap中拓扑工具无法修整单个要素内的错误.

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221028182726737.png" alt="image-20221028182726737" style="zoom:33%;" />

显然上图中，两条线构成了两个要素，而我们希望要素1的两个端点闭合，在同一个要素中这无法做到，因此需要将该数据集进一步打断成离散的线（就像网络数据集的节点那样）。

使用【数据管理工具】-【要素】-【在结点（vertices）处打断线】将该数据集全部打断成独立的线，（**注意：这样会导致无法识别出过伸悬挂点**，需要手动修整悬挂点或对线进行合并再进行拓扑修整）。打断后再对其建立拓扑，进行悬挂点捕捉操作。

<img src="https://markdown-img-1311240910.cos.ap-nanjing.myqcloud.com/image-20221028183304594.png" alt="image-20221028183304594" style="zoom:33%;" />

拓扑修整后使用【数据管理工具】-【要素】-【要素转面】将线要素转为面，再使用【数据管理工具】-【常规】-【合并】将新旧建筑轮廓合并成一幅



